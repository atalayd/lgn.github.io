<!DOCTYPE HTML>
<html>

<head>
	<title>Admins R4 - R5 Panel</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>

	<style>
		/* Styling for the user management table */
		table {
			width: 100%;
			border-collapse: collapse;
		}

		th,
		td {
			border: 1px solid #888;
			padding: 10px;
			text-align: center;
		}

		th {
			background-color: #333;
			color: #fff;
		}

		.approve-btn,
		.reject-btn,
		.remove-btn,
		.promote-btn,
		.demote-btn {
			padding: 5px 10px;
			background-color: #4CAF50;
			color: white;
			border: none;
			cursor: pointer;
		}

		.reject-btn,
		.remove-btn {
			background-color: #f44336;
		}

		.promote-btn {
			background-color: #2196F3;
		}

		.demote-btn {
			background-color: #FF9800;
		}

		.filter-input {
			padding: 10px;
			margin: 20px 0;
			width: 100%;
			box-sizing: border-box;
			border: 2px solid #ccc;
			border-radius: 4px;
		}
	</style>
</head>

<body>
	<!-- Page Wrapper -->
	<div id="page-wrapper">
		<!-- Header -->
		<header id="header" class="alt">
			<h1><a href="Admins_R4_R5.html">Admins R4 - R5</a></h1>
			<nav id="nav">
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="generic.html">Schedule</a></li>
					<li><a href="elements.html">Events</a></li>
					<li><a href="Admins_R4_R5.html">Admins R4 - R5</a></li>
				</ul>
			</nav>
		</header>

		<!-- Content -->
		<section id="content" class="wrapper style1 special">
			<div class="inner">
				<header class="major">
					<h2>User Management</h2>
				</header>

				<!-- Search and Filter Input -->
				<input type="text" id="filter-input" class="filter-input"
					placeholder="Search users or filter by rank..." onkeyup="filterUsers()" />

				<!-- User List and Account Approval Table -->
				<table>
					<thead>
						<tr>
							<th>Username</th>
							<th>Rank</th>
							<th>Approve</th>
							<th>Reject</th>
							<th>Promote</th>
							<th>Demote</th>
							<th>Remove</th>
						</tr>
					</thead>
					<tbody id="user-list">
						<!-- User entries will be dynamically inserted here -->
					</tbody>
				</table>
			</div>
		</section>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/main.js"></script>

	<script>
		// Simulated user data and pending requests
		const users = [
			{ username: "Mystic", rank: "Admin" },
			{ username: "NewUser", rank: "Pending" },
			{ username: "Warrior", rank: "Member" },
			{ username: "Commander", rank: "R4" }
		];

		// Populate user list
		const userList = document.getElementById('user-list');
		users.forEach(user => {
			const row = document.createElement('tr');

			const usernameCell = document.createElement('td');
			usernameCell.textContent = user.username;
			row.appendChild(usernameCell);

			const rankCell = document.createElement('td');
			rankCell.textContent = user.rank;
			row.appendChild(rankCell);

			// Approve button for pending users
			const approveCell = document.createElement('td');
			if (user.rank === 'Pending') {
				const approveButton = document.createElement('button');
				approveButton.textContent = 'Approve';
				approveButton.className = 'approve-btn';
				approveButton.onclick = () => approveUser(user.username);
				approveCell.appendChild(approveButton);
			}
			row.appendChild(approveCell);

			// Reject button for pending users
			const rejectCell = document.createElement('td');
			if (user.rank === 'Pending') {
				const rejectButton = document.createElement('button');
				rejectButton.textContent = 'Reject';
				rejectButton.className = 'reject-btn';
				rejectButton.onclick = () => rejectUser(user.username);
				rejectCell.appendChild(rejectButton);
			}
			row.appendChild(rejectCell);

			// Promote button for eligible users (R4 and below)
			const promoteCell = document.createElement('td');
			if (user.rank !== 'Admin' && user.rank !== 'R5') {
				const promoteButton = document.createElement('button');
				promoteButton.textContent = 'Promote';
				promoteButton.className = 'promote-btn';
				promoteButton.onclick = () => promoteUser(user.username);
				promoteCell.appendChild(promoteButton);
			}
			row.appendChild(promoteCell);

			// Demote button for R4 or higher ranks
			const demoteCell = document.createElement('td');
			if (user.rank === 'R4' || user.rank === 'R5') {
				const demoteButton = document.createElement('button');
				demoteButton.textContent = 'Demote';
				demoteButton.className = 'demote-btn';
				demoteButton.onclick = () => demoteUser(user.username);
				demoteCell.appendChild(demoteButton);
			}
			row.appendChild(demoteCell);

			// Remove button for non-admins
			const removeCell = document.createElement('td');
			if (user.rank !== 'Admin') {
				const removeButton = document.createElement('button');
				removeButton.textContent = 'Remove';
				removeButton.className = 'remove-btn';
				removeButton.onclick = () => removeUser(user.username);
				removeCell.appendChild(removeButton);
			}
			row.appendChild(removeCell);

			userList.appendChild(row);
		});

		function approveUser(username) {
			if (confirm(`Are you sure you want to approve ${username}?`)) {
				alert(`${username} approved!`);
				// Update logic to change user rank from Pending to Member/R4/R5
			}
		}

		function rejectUser(username) {
			if (confirm(`Are you sure you want to reject ${username}?`)) {
				alert(`${username} rejected!`);
				// Logic to remove request from pending list
			}
		}

		function removeUser(username) {
			if (confirm(`Are you sure you want to remove ${username}?`)) {
				alert(`${username} removed!`);
				// Logic to remove user from website
			}
		}

		function promoteUser(username) {
			if (confirm(`Are you sure you want to promote ${username}?`)) {
				alert(`${username} promoted!`);
				// Logic to promote the user to the next rank
			}
		}

		function demoteUser(username) {
			if (confirm(`Are you sure you want to demote ${username}?`)) {
				alert(`${username} demoted!`);
				// Logic to demote the user to the previous rank
			}
		}

		// Filter users based on input
		function filterUsers() {
			const filterInput = document.getElementById('filter-input').value.toLowerCase();
			const rows = document.querySelectorAll('#user-list tr');
			rows.forEach(row => {
				const username = row.cells[0].textContent.toLowerCase();
				const rank = row.cells[1].textContent.toLowerCase();
				if (username.includes(filterInput) || rank.includes(filterInput)) {
					row.style.display = '';
				} else {
					row.style.display = 'none';
				}
			});
		}
	</script>

</body>

</html>